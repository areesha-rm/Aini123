- [[work]]
- [[Flancia]]
- [[wayland]]
  - [[autostart]]
  - [[systemd]]
  - #push [[kill wayland]]
    - #push [[autostart]]
      - After much debugging I finally realized the issue was not with systemd trying to start vnc while wayland was still not running, crashing too many times and then giving up (like I long thought it was), but rather that the vnc service was not depending on a target that was actually being triggered.
      - Trying to set up [[vnc]] so it starts only after wayland/a graphical session is running and it's proving harder than expected for not the first time :)
      - I would expect to add a Requires or WantedBy in the systemd unit, but alas, it's not as easy as that? 
      - I use [[sway]] so maybe the right targets aren't there by default though, as that's supposed to be solved by a "[[desktop environment]]".
      - Somehow I ended up at https://github.com/jceb/dex which, beyonds its scope in a friendly way, tells me of how to configure a [[systemd autostart]] in a way that maybe could work. Plot twist: it didn't.
      - https://github.com/maximbaz/dotfiles/issues/23 showed the way: the issue was that nothing was triggering graphical-session.target. I added a line to my sway config to do that as per the first comment in the issue (thank you [[maximbaz]] on github) and that was enough to fix my long standing woes. This feels like freedom :)
